#!/usr/bin/env ruby

require 'turing_machine'

include TuringMachine

instructions = {
  {symbol: '0', state: 'A'} => {symbol: '1', move: 'R', next_state: 'B'},
  {symbol: '1', state: 'A'} => {symbol: '1', move: 'L', next_state: 'C'},
  {symbol: '0', state: 'B'} => {symbol: '1', move: 'L', next_state: 'A'},
  {symbol: '1', state: 'B'} => {symbol: '1', move: 'R', next_state: 'B'},
  {symbol: '0', state: 'C'} => {symbol: '1', move: 'L', next_state: 'B'},
  {symbol: '1', state: 'C'} => {symbol: '1', move: 'R', next_state: 'HALT'},
}

initial_state = 'A'

instance = Instance.new(instructions, initial_state)

loop do
  puts instance.picture
  break if instance.halted?
  instance.proceed
end
